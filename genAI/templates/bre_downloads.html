{% extends "header.html" %}

{% block title %}BRE-DOWNLOADS{% endblock %}

{% block content %}
<style>
        .file-list {
            list-style-type: none;
            padding: 0;
        }
        .file-list li {
            margin: 10px 0;
        }
        .file-list a {
            text-decoration: none;
            color: #1564FF;
        }
        .file-list a:hover {
            text-decoration: underline;
        }
        /* Modal Styles */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto; 
            background-color: rgb(0,0,0); 
            background-color: rgba(0,0,0,0.4); 
            padding-top: 60px;
        }
        .modal-content {
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 90%;
            height: 80%;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
</style>
<div class="container">
<h3>Choose file to download</h3>
<ul class="file-list">
    {% for file in files %}
    <li>
        <a style="font-size: large;" href="{{ url_for('views.bre_download_file', filename=file) }}">
            {{ file }}</a>
        <button style="margin-left: 20px;" type="button" class="btn waves-effect waves-light" onclick="previewFile('{{ file }}')">Preview</button>
    </li>
    {% endfor %}
</ul>
<div id="fileModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h3>File Preview</h3>
        <pre id="fileContent"></pre>
    </div>
</div>
</div>
    <!-- Include Materialize CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">

    <!-- Include Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="/static/bre-downloads.js"></script>
{% endblock %}
    
